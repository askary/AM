<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Eventos</title>
<script type="text/javascript" charset="utf-8" src="cordova.js"></script>
<link href="themes/tema-personalizado.min.css" rel="stylesheet" type="text/css">
<link href="jquery.mobile-1.4.0/jquery.mobile.icons-1.4.0.min.css" rel="stylesheet" type="text/css">
<link href="jquery.mobile-1.4.0/jquery.mobile.structure-1.4.0.min.css" rel="stylesheet" type="text/css">
<script src="jquery.mobile-1.4.0/jquery-1.10.2.min.js" type="text/javascript"></script>
<script type="text/javascript">
$( document ).on( "mobileinit", function() {
  $.mobile.pageLoadErrorMessage = "Error al cargar la página";
  $.mobile.pageLoadErrorMessageTheme = "a"; 
});
</script>
<script src="jquery.mobile-1.4.0/jquery.mobile-1.4.0.min.js" type="text/javascript"></script>
<script type="text/javascript">

document.addEventListener("deviceready", onDeviceReady, false);

function onDeviceReady() {
    console.log(" ****	Dispositivo Listo	**** ");
	$("#msj").prepend("Evento: Dispositivo Listo <br/>");
}
</script>
</head>

<body>
<div data-role="page" id="eventos" data-theme="a">
<script type="text/javascript">

$("#eventos").bind('pagecreate',function (){
	
	document.addEventListener("pause", function (){
		$("#msj").prepend("Evento: Pausar Aplicación <br/>");
		}, false);
	
	document.addEventListener("resume", function (){
		$("#msj").prepend("Evento: Resumir Aplicación <br/>");
		}, false);
	
	document.addEventListener("online", function (){
		$("#msj").prepend("Evento: Conectado <br/>");
		}, false);
	
	document.addEventListener("offline", function (){
		$("#msj").prepend("Evento: Desconectado <br/>");
		}, false);                                      
	
	document.addEventListener("backbutton", function (){
		$("#msj").prepend("Evento: Botón Atrás <br/>");
		}, false);
	
	
	window.addEventListener("batterycritical", function (info){
		$("#msj").prepend("Evento: Nivel de Batería Crítico: "+ info.level +" <br/>");
		}, false);
	
	window.addEventListener("batterylow",function (info){
		$("#msj").prepend("Evento: Nivel de Batería Bajo: "+ info.level +" <br/>");
		}, false)
	
	window.addEventListener("batterystatus",function (info){
		$("#msj").prepend("Evento: Nivel de Batería: " + info.level + "¿ Cargando ? " + info.isPlugged + " <br/>");
		}, false)
	
	
	document.addEventListener("menubutton", function (){
		$("#msj").prepend("Evento: Botón Menú <br/>");
		}, false);
	
	document.addEventListener("searchbutton", function (){
		$("#msj").prepend("Evento: Botón Buscar <br/>");
		}, false);
	
	document.addEventListener("startcallbutton", function (){
		$("#msj").prepend("Evento: Botón Llamar <br/>");
		}, false);
	
	document.addEventListener("endcallbutton", function (){
		$("#msj").prepend("Evento: Botón Finalizar Llamada <br/>");
		}, false);
	
	
	document.addEventListener("volumedownbutton", function (){
		$("#msj").prepend("Evento: Botón Bajar Volumen <br/>");
		}, false);
	
	document.addEventListener("volumeupbutton", function (){
		$("#msj").prepend("Evento: Botón Subir Volumen <br/>");
		}, false);
	
	});
	
$("#eventos").on("pagecontainerhide",function(){
	document.removeEventListener("backbutton", salir, false);
	document.removeEventListener("menubutton", salir, false);
	document.removeEventListener("searchbutton", salir, false);
});

function salir(){
	$("#msj").prepend("Listener eliminado");
	}

</script>
  <div data-role="header">
    <h1>Eventos</h1>
  </div>
  <div data-role="content">
  <a href="index.html" rel="external" data-role="button" data-icon="home">Volver</a>  
  Eventos detectados:<br/>
  <div id="msj"></div>
  </div>
</div>
</body>
</html>
